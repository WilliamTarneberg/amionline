#!/bin/sh

#/bin/ping -n -i 300 8.8.8.8 | while read pong; do echo "$(date): $pong"; done >> /home/pi/ping.log

HOSTS="8.8.8.8 213.100.83.1"
COUNT=4

for theHost in $HOSTS
do
  count=$(/bin/ping -c $COUNT $theHost | grep 'received' | awk -F',' '{ print $2 }' |  awk '{ print $1 } ')
  if [ $count -eq 0 ]
    then
      echo "$(date) - PING $theHost FAILED" >> /home/pi/ping.log
    else
      echo "$(date) - PING $theHost OK" >> /home/pi/ping.log
  fi
done
